SELECT
    COALESCE(ticket.id, visits.id) AS id,
    ticket.name,
    ticket.age,
    ticket.date,
    ticket.type,
    contact.email,
    contact.phone_no,
    visits.visited_status,
    meals.breakfast,
    meals.lunch,
    meals.snack,
    meals.dinner,
    college_info.reg_no,
    college_info.college_name,
    payment.amount
FROM
    ticket
LEFT JOIN contact ON ticket.name = contact.name
LEFT JOIN visits ON ticket.id = visits.id
LEFT JOIN meals ON ticket.name = meals.name
LEFT JOIN college_info ON ticket.name = college_info.name
LEFT JOIN payment ON ticket.name = payment.name

UNION

SELECT
    COALESCE(ticket.id, visits.id) AS id,
    ticket.name,
    ticket.age,
    ticket.date,
    ticket.type,
    contact.email,
    contact.phone_no,
    visits.visited_status,
    meals.breakfast,
    meals.lunch,
    meals.snack,
    meals.dinner,
    college_info.reg_no,
    college_info.college_name,
    payment.amount
FROM
    visits
RIGHT JOIN ticket ON ticket.id = visits.id
LEFT JOIN contact ON ticket.name = contact.name
LEFT JOIN meals ON ticket.name = meals.name
LEFT JOIN college_info ON ticket.name = college_info.name
LEFT JOIN payment ON ticket.name = payment.name;



/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


CREATE TABLE allrecords AS
SELECT
    ticket.id,
    ticket.name,
    ticket.age,
    ticket.date,
    ticket.type,
    contact.email,
    contact.phone_no,
    visits.visited_status,
    meals.breakfast,
    meals.lunch,
    meals.snack,
    meals.dinner,
    college_info.reg_no,
    college_info.college_name,
    payment.amount
FROM
    ticket
LEFT JOIN contact ON ticket.name = contact.name
LEFT JOIN visits ON ticket.id = visits.id
LEFT JOIN meals ON ticket.name = meals.name
LEFT JOIN college_info ON ticket.name = college_info.name
LEFT JOIN payment ON ticket.name = payment.name;



/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

CREATE VIEW all_view AS
SELECT
    ticket.id,
    ticket.name,
    ticket.age,
    ticket.date,
    ticket.type,
    contact.email,
    contact.phone_no,
    visits.visited_status,
    meals.breakfast,
    meals.lunch,
    meals.snack,
    meals.dinner,
    college_info.reg_no,
    college_info.college_name,
    payment.amount
FROM
    ticket
LEFT JOIN contact ON ticket.name = contact.name
LEFT JOIN visits ON ticket.id = visits.id
LEFT JOIN meals ON ticket.name = meals.name
LEFT JOIN college_info ON ticket.name = college_info.name
LEFT JOIN payment ON ticket.name = payment.name;
